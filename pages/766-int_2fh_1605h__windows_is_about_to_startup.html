<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>INT 2fH 1605H: Windows Is About to Startup - TECH Help!</title><link rel="stylesheet" type="text/css" href="style.css"><meta http-equiv="X-UA-Compatible" content="IE=Edge"></head><body><h1>INT 2fH 1605H: Windows Is About to Startup</h1><pre>                                                      Compatibility: <span class="c2">Win 3.x</span>
  Expect: <span class="c2">AX</span>    1605H
          <span class="c2">CX</span>    0000H
          <span class="c2">DX</span>    flags: bit 0=1 if standard mode
                       bit 0=0 if enhanced 368 mode
          <span class="c2">DI</span>    version number (major in hi byte; minor is low byte)
          <span class="c2">DS:SI</span> 0000:0000
          ──────────────────────────────────────────────────────────────────
  Return: <span class="c2">CX</span>    0000H if OK to continue starting Windows
                else  Windows will not start
          <span class="c2">DS:SI</span> addr of an Enable/Disable Virtual Mode handler
          <span class="c2">ES:BX</span> addr of a Win386_Startup_Info_Structure
          ──────────────────────────────────────────────────────────────────
    Info: TSRs and DOS-level device drivers may intercept this function as
          a way to be notified when Windows (standard mode or enhanced 386
          mode) is about to start up.  It lets you free up extended memory
          for use by Windows; for instance, DOS's <span class="c2">SmartDrive</span> disk cache
          intercepts this call for that purpose.

          By returning <span class="c2">CX</span> != 0, you can prevent Windows from running.  In
          that case, you really ought to display a message to ell the user
          what's going on.

          If the CPU is in Virtual 8086 Mode, you must set it back to Real
          Mode and there are several other important steps.  Please check
          the <span class="c2">Windows Device Driver Kit (DDK)</span> for full information.

          Your handler will later receive an <a href="769-int_2fh_1608h__windows_initialization_is_complete.html">INT 2fH 1608H</a> notification to
          indicate that windows is actually starting up or an <a href="770-int_2fh_1609h__windows_is_terminating.html">INT 2fH 1609H</a>
          if Windows finds that it can't start.

See Also: <a href="763-int_2fh_16xxh__enh386_windows_services___notifications.html">INT 2fH 16xxH: Enh386 Windows Services &amp; Notifications</a>
          <a href="681-int_2fh__multiplex_interrupt.html">INT 2fH: Multiplex Interrupt</a>
          <a href="5-dos_function_index___quick_reference_subset.html">DOS Functions</a>
                                    <span class="c3">-♦-</span></pre></body></html>
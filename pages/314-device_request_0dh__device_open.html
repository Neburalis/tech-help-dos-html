<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Device Request 0dH: Device Open - TECH Help!</title><link rel="stylesheet" type="text/css" href="style.css"><meta http-equiv="X-UA-Compatible" content="IE=Edge"></head><body><h1>Device Request 0dH: Device Open</h1><pre>                                                          <a href="328-_blk_.html">◄Blk►</a> <a href="327-_chr_.html">◄Chr►</a> <a href="330-_ocr_.html">◄OCR►</a>
 This tells the driver that a block-device file or character device is
 being opened or created.

<span class="c2">DevReq0dRec</span>
  Offset Size Contents
  ▀▀▀▀▀▀ ▀▀▀▀ ▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
   +0      1  <span class="c1">bLen</span>         0dH (length of this request packet)
   +1      1  <span class="c1">bUnitNo</span>      (not used)
   +2      1  <span class="c1">bCmd</span>         <span class="c2">00H</span> (command code)
   +3      2  <span class="c1">rStatus</span>      OUTPUT: <a href="325-device_status_word.html">Device Status Word</a> must fill before exit
   +5H     8  <span class="c1">res</span>          (reserved)
          13               size of this record

     <span class="c1">rStatus</span>  On exit, the driver must place a <a href="325-device_status_word.html">DevStatusWord</a> here.  Always
              set the Done bit (<span class="c1">bit 8</span>).  On an error, set the Done bit and
              the Error bit (<span class="c1">bit 15</span>) and put a <a href="326-device_driver_errors.html">Device Error Code</a> in the low
              byte.

   Notes: ■ Only drivers capable of device Open/Close-processing need
            support this request (see <a href="323-device_attribute.html">Device Attribute</a> <span class="c1">bit 11</span>).

          ■ DOS uses this request whenever an application opens or creates
            a file or opens a device (fn <a href="436-dos_fn_3dh__open_a_file_via_handle.html">3dH</a>) and DOS issues <a href="315-device_request_0eh__device_close.html">DvRq 0eH</a>
            (Device Close) when the device or file gets closed (fn <a href="437-dos_fn_3eh__close_a_file_handle.html">3eH</a>).

            Drivers supporting this request can uses these fns to help with
            maintenance of internal buffers, etc.

            Character devices (such as PRN drivers) can watch for Open
            requests and send control data to the device (such as font
            downloads) when it is opened after being closed.  In that
            scenario, the driver should also accept <a href="304-device_request_03h__ioctl_input.html">DvRq 03H</a> and <a href="313-device_request_0ch__ioctl_output.html">DvRq 0cH</a>
            (IOCTL fns) in order to provide a means to receive download
            data from applications.

See Also: <a href="300-device_requests.html">Device Requests</a>
          <a href="324-device_request_header.html">DevRequestHdrRec</a>
          <a href="298-installable_device_drivers.html">Installable Device Drivers</a>
                                    <span class="c3">-♦-</span></pre></body></html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>INT 15H 8300H: Set Event Wait Interval - TECH Help!</title><link rel="stylesheet" type="text/css" href="style.css"><meta http-equiv="X-UA-Compatible" content="IE=Edge"></head><body><h1>INT 15H 8300H: Set Event Wait Interval</h1><pre>                                                                        [AT]
 Expects: <span class="c2">AX</span>    8300H
          <span class="c2">CX</span>,<span class="c2">DX</span> interval in microseconds (1,000,000ths of a second)
                CX is high word, BX is low word
          <span class="c2">ES:BX</span> address of byte to be used to flag end of interval
          ──────────────────────────────────────────────────────────────────
 Returns: <span class="c2">AH</span>    83H
          <span class="c2">AL</span>    00H =means fn is busy (note: only one timer can be set)
                else=CMOS timer has been set
          <span class="c2">CF</span>    NC (0) no error
                CY (1) error; fn is busy
          ──────────────────────────────────────────────────────────────────
    Info: This sets up to have the BIOS set a flag after a certain amount
          to time.

          The interval is set in microseconds with <span class="c2">CX</span> and <span class="c2">DX</span> being the high
          and low words, respectively.

          1,000,000 microseconds = 1 second; for instance, to set an
          interval for 2 seconds, set CX=001eH and DX=8480H.

          Upon expiration of the interval, <span class="c2">bit 7</span> of the byte at <span class="c2">ES:BX</span> will
          be set.  You must clear this bit before starting the interval.

   Notes: ■ Only one timer-interval may be active.  Use <a href="218-int_15h_8301h__cancel_event_wait_interval.html">INT 15H 8301H</a> to
            cancel the current interval.

          ■ Remember to <span class="c1">cancel the wait before exiting your program!</span>
            Later, some other process will own the memory address you have
            used at the time-done-flag (<span class="c2">ES:BX</span>).

          ■ If <span class="c2">CX</span> and <span class="c2">DX</span> are both 0000H on entry, no action is taken.

          ■ In most systems, the finest possible resolution is about 1000
            microseconds (about one one-thousandth of a second).  Thus, CX
            must be at least 1000 (3e8H) for this to be useful.

          ■ This works asynchronously, letting you perform other tasks
            while occasionally polling the byte as <span class="c2">ES:BX</span>.  Use <a href="221-int_15h_86h__wait.html">INT 15H 86H</a>
            if you want the system to wait (delay) for a specific interval.

          ■ Other timer functions include <a href="244-int_1ah__timer_i_o__and_mrci_post_hook_.html">INT 1aH</a> (1/18-th second minimum
            interval) and DOS fn <a href="413-dos_fn_2ch__query_dos_time.html">2cH</a> (1/100-th second minimum interval).

See Also: <a href="212-int_15h__at_extended_services___apm.html">INT 15H</a> (extended AT services)
          <a href="93-rom_bios_variables.html">BIOS Data Area</a>
          <a href="95-interrupts_and_bios_services.html">ROM-BIOS Functions</a>
                                    <span class="c3">-♦-</span></pre></body></html>